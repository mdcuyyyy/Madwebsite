<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Gallery | Ahmad Nadzrin</title>

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

<style>
  * { 
    margin:0; 
    padding:0; 
    box-sizing:border-box; 
    font-family:'Montserrat', sans-serif;
  }

  body {
    background: linear-gradient(180deg, #0A1D56 0%, #1E3A8A 100%);
    color: #fff;
    overflow-x: hidden;
    min-height: 100vh;
    display:flex;
    flex-direction:column;
    position: relative;
  }

  canvas#emojiCanvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
  }

  header { text-align:center; padding:40px 20px; }

  header h1 {
    font-size:2.3em;
    text-shadow: 2px 2px 5px #E60023, -2px -2px 5px #1E3A8A;
  }

  h2 {
    font-size:2.2em;
    margin-bottom:30px;
    text-shadow:2px 2px 6px rgba(0,0,0,0.5);
    animation:fadeIn 1s ease forwards;
  }

  @keyframes fadeIn {
    from { opacity:0; transform:translateY(20px);}
    to { opacity:1; transform:translateY(0);}
  }

  nav {
    background-color: #E60023;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    padding: 12px 0;
    border-radius: 0 0 20px 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.4);
  }

  nav ul { list-style:none; display:flex; flex-wrap:wrap; justify-content:center; }
  nav ul li { margin:6px; }
  nav ul li a {
    display:block;
    color:#fff;
    text-decoration:none;
    padding:10px 18px;
    border-radius:25px;
    font-weight:bold;
    transition:all 0.3s ease;
  }
  nav ul li a:hover {
    background-color:#000;
    color:#E60023;
    transform:translateY(-2px);
  }

  .page-title {
    text-align: center;
    margin: 25px 0;
    font-size: 2em;
    font-weight: bold;
    color: white;
    text-shadow: 2px 2px 5px #E60023, -2px -2px 5px #1E3A8A;
  }

  main {
    flex:1;
    padding:40px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .slideshow-container {
    display:flex;
    overflow:hidden;
    width:100%;
    max-width:1200px;
    margin:20px auto;
    gap:15px;
    position:relative;
  }

  .slide-track { display:flex; animation: scroll 60s linear infinite; }
  .slide {
    min-width: 220px;
    height: 150px;
    margin-right:15px;
    border-radius:15px;
    overflow:hidden;
    box-shadow:0 4px 12px rgba(0,0,0,0.5);
    flex-shrink:0;
    cursor:pointer;
    transition: transform 0.5s;
  }
  .slide img { width:100%; height:100%; object-fit:cover; transition: transform 0.5s; }
  .slide:hover img { transform: scale(1.05); }

  @keyframes scroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  .lightbox {
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.9);
    justify-content:center;
    align-items:center;
    z-index:1000;
    cursor:pointer;
  }
  .lightbox img {
    max-width:90%;
    max-height:90%;
    border-radius:15px;
    box-shadow:0 0 20px #fff, 0 0 40px rgba(230,0,35,0.6);
  }

  .timeline-section {
    width:100%;
    max-width:1000px;
    margin:80px auto 40px;
    position:relative;
  }
  .timeline-section h2 {
    text-align:center;
    font-size:1.8em;
    margin-bottom:50px;
    color:#fff;
    text-shadow:2px 2px 6px rgba(0,0,0,0.5);
  }
  .timeline {
    position:relative;
    margin:0 auto;
    padding:20px 0;
  }
  .timeline::before {
    content:''; position:absolute; left:50%; top:0;
    width:4px; height:100%; background:#E60023;
    transform:translateX(-50%);
  }
  .timeline-item { position:relative; width:50%; padding:20px 40px; }
  .timeline-item:nth-child(odd){ left:0; text-align:right; }
  .timeline-item:nth-child(even){ left:50%; text-align:left; }
  .timeline-item img {
    width:100%; max-width:400px; border-radius:15px;
    box-shadow:0 6px 20px rgba(0,0,0,0.5);
    transition: transform 0.4s;
  }
  .timeline-item img:hover { transform:scale(1.05); }
  .timeline-item p { margin-top:10px; font-size:1em; color:#ddd; }
  .timeline-dot {
    position:absolute; top:30px; left:50%;
    width:20px; height:20px; background:#E60023;
    border-radius:50%; transform:translateX(-50%);
    box-shadow:0 0 10px rgba(230,0,35,0.8);
  }

  .block-gallery {
    width:100%;
    max-width:1200px;
    margin:80px auto 60px;
    text-align:center;
  }
  .block-gallery h2 {
    font-size:1.8em;
    margin-bottom:30px;
    text-shadow:2px 2px 6px rgba(0,0,0,0.5);
  }
  .block-grid {
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap:20px;
    padding:0 20px;
  }
  .block-item {
    position:relative;
    overflow:hidden;
    border-radius:15px;
    box-shadow:0 4px 12px rgba(0,0,0,0.5);
    cursor:pointer;
  }
  .block-item img {
    width:100%;
    height:100%;
    object-fit:cover;
    transition:transform 0.5s, opacity 0.5s;
  }
  .block-item:hover img { transform:scale(1.05); opacity:0.9; }

  .music-btn {
    position: fixed; 
    bottom: 25px; 
    right: 25px;
    background-color: #E60023; 
    border: none; 
    border-radius: 50%;
    width: 60px; 
    height: 60px; 
    color: white; 
    font-size: 26px;
    cursor: pointer; 
    box-shadow: 0 0 15px rgba(0,0,0,0.6);
    transition: transform 0.3s ease; 
    z-index: 999;
  }
  .music-btn:hover { transform: scale(1.1); }

  @media (max-width:768px) {
    .slide { min-width: 180px; height: 120px; }
    .timeline::before { left:10px; }
    .timeline-item { width:100%; padding-left:50px; text-align:left !important; }
    .timeline-item:nth-child(odd),
    .timeline-item:nth-child(even) { left:0; }
    .timeline-dot { left:10px; transform:none; }
  }

  /* ===== FOOTER NEW STYLE ===== */
  footer {
    background-color: #000000;
    color: #FFFFFF;
    text-align: center;
    padding: 20px;
    font-weight: bold;
    letter-spacing: 1px;
    border-top: 3px solid #E60023;
  }
  footer span { color:white; }
  #liveTime { color:#E60023; margin-top:10px; font-weight:bold; }

  /* =================== NEW ADDED STYLES =================== */

  /* Video Gallery */
  .extra-video-section {
    margin: 60px auto;
    text-align: center;
    max-width: 1200px;
    width:100%;
  }
  .extra-video-section h2 { font-size:1.6em; margin-bottom:20px; }
  .video-grid {
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap:20px;
    padding:0 20px 20px;
  }
  .video-box {
    background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.15));
    border-radius:16px;
    padding:12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.45);
    transition: transform .3s ease, box-shadow .3s ease;
    cursor:pointer;
  }
  .video-box:hover { transform: translateY(-6px); box-shadow:0 14px 30px rgba(0,0,0,0.6); }
  .video-box video { width:100%; height:180px; border-radius:12px; object-fit:cover; }
  .video-box p { margin-top:10px; font-weight:700; color:#fff; }

  /* FILTER GALLERY */
  .filter-gallery {
    margin: 60px auto;
    max-width:1200px;
    width:100%;
    text-align:center;
  }
  .filter-buttons {
    margin-bottom: 18px;
  }
  .filter-buttons button {
    padding:10px 18px;
    margin:6px;
    background:#E60023;
    color:#fff;
    border:none;
    border-radius:25px;
    font-weight:600;
    cursor:pointer;
    transition:all .25s ease;
  }
  .filter-buttons button.active, .filter-buttons button:hover {
    background:#fff; color:#E60023;
  }
  .filter-grid {
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
    gap:16px;
    padding: 0 20px 30px;
  }
  .filter-grid img {
    width:100%; height:220px; object-fit:cover;
    border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.45);
    transition: transform .3s ease, opacity .3s;
  }
  .filter-grid img:hover { transform:scale(1.04); opacity:0.95; }

  /* POLAROID */
  .polaroid-section {
    margin: 60px auto;
    max-width:1100px;
    width:100%;
    text-align:center;
  }
  .polaroid-grid { display:flex; gap:28px; flex-wrap:wrap; justify-content:center; padding: 10px 20px 30px; }
  .polaroid {
    background: #fff; color:#111; width:240px; padding:14px; border-radius:8px;
    box-shadow:0 14px 30px rgba(0,0,0,0.45); transform-origin:center;
    transition: transform .35s ease;
  }
  .polaroid img { width:100%; height:260px; object-fit:cover; border-radius:6px; }
  .polaroid p { margin-top:10px; font-weight:700; text-align:center; }

  /* HIGHLIGHTS CARDS */
  .highlights-section { margin:60px auto; max-width:1200px; width:100%; text-align:center; padding-bottom:40px; }
  .highlights-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(250px,1fr)); gap:20px; padding: 0 20px; }
  .highlight-card {
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.18));
    padding:18px; border-radius:14px; box-shadow:0 10px 28px rgba(0,0,0,0.45);
    transition: transform .3s ease;
  }
  .highlight-card:hover { transform:translateY(-8px); }
  .highlight-card h3 { margin-bottom:8px; color:#fff; }
  .highlight-card p { color:#ddd; font-size:.95rem; }

  /* Video Modal (for playing fullscreen) */
  .video-modal {
    display:none; position:fixed; inset:0; background:rgba(0,0,0,0.95);
    z-index:1200; align-items:center; justify-content:center; padding:20px;
  }
  .video-modal video { width:100%; max-width:1100px; height:auto; border-radius:12px; box-shadow:0 0 40px rgba(0,0,0,0.7); }
  .video-modal .close-video {
    position:absolute; top:18px; right:22px; background:#E60023; color:#fff; border:none; padding:10px 12px; border-radius:8px; cursor:pointer; font-weight:700;
  }

  /* small screens tweak */
  @media (max-width:600px) {
    .video-box video { height:160px; }
    .polaroid img { height:200px; }
    .filter-grid img { height:160px; }
    .lightbox img { max-height:85%; }
  }

</style>
</head>
<body>

<canvas id="emojiCanvas"></canvas>

<header><h1>MAD PERSONAL WEBSITE</h1></header>

<nav>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="aboutme.html">About Me</a></li>
    <li><a href="family.html">Family</a></li>
    <li><a href="experience.html">Experience</a></li>
    <li><a href="education.html">Education</a></li>
    <li><a href="friends.html">Friends</a></li>
    <li><a href="gallery.html" class="active">Gallery</a></li>
  </ul>
</nav>

<div class="page-title">Gallery</div>

<main>
  <h2>My Memories in Pictures üì∏</h2>

  <div class="slideshow-container">
    <div class="slide-track">
      <!-- your images unchanged -->
      <div class="slide"><img src="images/g1.jpg" alt="g1"></div>
      <div class="slide"><img src="images/g2.jpg" alt="g2"></div>
      <div class="slide"><img src="images/g3.jpg" alt="g3"></div>
      <div class="slide"><img src="images/g4.jpg" alt="g4"></div>
      <div class="slide"><img src="images/g5.jpg" alt="g5"></div>
      <div class="slide"><img src="images/g6.jpg" alt="g6"></div>
      <div class="slide"><img src="images/g7.jpg" alt="g7"></div>
      <div class="slide"><img src="images/g8.jpg" alt="g8"></div>
      <div class="slide"><img src="images/g9.jpg" alt="g9"></div>
      <div class="slide"><img src="images/g11.jpg" alt="g11"></div>
      <div class="slide"><img src="images/g12.jpg" alt="g12"></div>
      <div class="slide"><img src="images/g13.jpg" alt="g13"></div>
      <div class="slide"><img src="images/g14.jpg" alt="g14"></div>
      <!-- duplicate set to make scrolling seamless -->
      <div class="slide"><img src="images/g1.jpg" alt="g1b"></div>
      <div class="slide"><img src="images/g2.jpg" alt="g2b"></div>
      <div class="slide"><img src="images/g3.jpg" alt="g3b"></div>
      <div class="slide"><img src="images/g4.jpg" alt="g4b"></div>
    </div>
  </div>

  <section class="timeline-section">
    <h2>Memories w ibuku üï∞Ô∏è</h2>
    <div class="timeline">

      <div class="timeline-item"><span class="timeline-dot"></span><img src="images/ibuaby3.jpg" alt=""><p>Eid al-Adha 2024 W Ibu</p></div>
      <div class="timeline-item"><span class="timeline-dot"></span><img src="images/ibuaby5.jpg" alt=""><p>Eid al-Fitr 2024 W Ibu</p></div>
      <div class="timeline-item"><span class="timeline-dot"></span><img src="images/ibuaby7.jpg" alt=""><p>Eid al-Adha 2025 W Ibu</p></div>
      <div class="timeline-item"><span class="timeline-dot"></span><img src="images/ibuaby8.jpg" alt=""><p>Last Teraweh 2025 W Ibu</p></div>
      <div class="timeline-item"><span class="timeline-dot"></span><img src="images/ibuaby9.jpg" alt=""><p>Go Cinema W Ibu</p></div>
      <div class="timeline-item"><span class="timeline-dot"></span><img src="images/ibuaby14.jpg" alt=""><p>Eid al-Fitr 2025 W Ibu</p></div>

    </div>

    <div class="tiktok-video" style="text-align:center; margin:40px 0;">
      <h3 style="color:#fff; margin-bottom:20px;">Watch this TikTok üé•</h3>
      <video controls style="width:100%; max-width:640px; height:360px; border-radius:15px; box-shadow:0 4px 12px rgba(0,0,0,0.5);">
        <source src="videos/mytiktok.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
  </section>

  <section class="block-gallery">
    <h2>My Sunshine üåü</h2>
    <div class="block-grid">
      <div class="block-item"><img src="imagess/aidy1.jpg" alt=""></div>
      <div class="block-item"><img src="imagess/ayla1.jpg" alt=""></div>
      <div class="block-item"><img src="imagess/aidy2.jpg" alt=""></div>
      <div class="block-item"><img src="imagess/ayla2.jpg" alt=""></div>
    </div>
  </section>

  <!-- NEW EXTRA VIDEO SECTION -->
  <section class="extra-video-section">
    <h2>My Favorite Videos üé¨</h2>
    <div class="video-grid">
      <div class="video-box" data-title="Celebrate birthday W them">
        <video data-src="videos/video1.MP4" poster="images/video1.jpg" muted></video>
        <p>Celebrate birthday W them</p>
      </div>
      <div class="video-box" data-title="Photobooth W them">
        <video data-src="videos/video2.MP4" poster="images/video2.jpg" muted></video>
        <p>Photobooth W them</p>
      </div>
      <div class="video-box" data-title="Bbq W them">
        <video data-src="videos/video3.MP4" poster="images/video3.jpg" muted></video>
        <p>Bbq W them</p>
      </div>
    </div>
  </section>

  <!-- FILTER GALLERY -->
  <section class="filter-gallery" aria-label="Filter gallery">
    <h2>Explore by Category üóÇÔ∏è</h2>

    <div class="filter-buttons" role="tablist">
      <button data-filter="all" class="active" role="tab" aria-selected="true">All</button>
      <button data-filter="family" role="tab">Family</button>
      <button data-filter="friends" role="tab">Friends</button>
      <button data-filter="random" role="tab">Random</button>
    </div>

    <div class="filter-grid" aria-live="polite">
      <!-- unchanged images -->
      <img src="imagess/prend1.jpg" class="item friends" alt="friends1">
      <img src="imagess/rndomm2.jpg" class="item random" alt="random1">
      <img src="imagess/fam4.jpg" class="item family" alt="family1">
      <img src="imagess/bigbigfam.jpg" class="item family" alt="family2">
      <img src="imagess/prend2.jpg" class="item friends" alt="friends2">
      <img src="imagess/rndomm1.jpg" class="item random" alt="random2">
      <img src="imagess/prend3.jpg" class="item friends" alt="friends2">
      <img src="imagess/rndomm3.jpg" class="item random" alt="random1">
      <img src="images/g11.jpg" class="item friends" alt="friends1">
      <img src="images/g4.jpg" class="item friends" alt="friends1">
      <img src="images/g13.jpg" class="item friends" alt="friends1">
      <img src="images/secondary2.jpg" class="item friends" alt="friends1">
      <img src="images/close2.jpg" class="item friends" alt="friends1">
      <img src="images/brotherhood3.jpg" class="item friends" alt="friends1">
      <img src="images/g5.jpg" class="item family" alt="family3">
      <img src="images/fam1.jpg" class="item family" alt="friends1">
      <img src="images/fam2.jpg" class="item family" alt="friends1">
      <img src="images/fam3.jpg" class="item family" alt="friends1">
      <img src="images/syahain.jpg" class="item family" alt="friends1">
      <img src="images/cousins.jpg" class="item family" alt="friends1">
      <img src="images/close3.jpg" class="item friends" alt="friends1">
      <img src="images/parents.jpg" class="item family" alt="friends1">
      <img src="images/kkainfam.jpg" class="item family" alt="friends1">
      <img src="images/g8.jpg" class="item random" alt="random1">
      <img src="images/g2.jpg" class="item random" alt="random1">
      <img src="images/mad4.jpg" class="item random" alt="random1">
      <img src="images/mad1.jpg" class="item random" alt="random1">
      <img src="images/g6.jpg" class="item random" alt="random1">
      <img src="images/mad2.jpg" class="item random" alt="random1">
      <img src="images/mad5.jpg" class="item random" alt="random1">
      <img src="imagess/2.jpg" class="item random" alt="random1">
      <img src="imagess/12.jpg" class="item random" alt="random1">
    </div>
  </section>

  <!-- POLAROID SECTION -->
  <section class="polaroid-section" aria-label="Polaroid memories">
    <h2>Polaroid Memories üì∑</h2>

    <div class="polaroid-grid">
      <div class="polaroid"><img src="imagess/familyyy.jpg" alt=""><p>My Family</p></div>
      <div class="polaroid"><img src="imagess/me.jpg" alt=""><p>Me</p></div>
      <div class="polaroid"><img src="imagess/w didiy.jpg" alt=""><p>With Didiy</p></div>
      <div class="polaroid"><img src="imagess/w alya.jpg" alt=""><p>With Alyaa</p></div>
    </div>
  </section>

  <!-- HIGHLIGHTS SECTION -->
  <section class="highlights-section" aria-label="Highlights">
    <h2>Highlights of My Life ‚ú®</h2>

    <div class="highlights-grid">
      <div class="highlight-card">
        <h3>Travel</h3>
        <p>Favourite trips, memorable sunsets, and the best places I ate at. Travel makes me feel alive.</p>
      </div>

      <div class="highlight-card">
        <h3>Family</h3>
        <p>Moments with Family such as celebrations, travel, and everything in between.</p>
      </div>

      <div class="highlight-card">
        <h3>Achievements</h3>
        <p>Small wins and big awards. Proud moments I keep in photos and memories.</p>
      </div>

      <div class="highlight-card">
        <h3>Random Fun</h3>
        <p>Late night walk, unexpected detours, and candid laughter captured forever.</p>
      </div>
    </div>
  </section>

</main>

<!-- KEEP ORIGINAL LIGHTBOX FOR IMAGES -->
<div class="lightbox" id="lightbox" aria-hidden="true"><img id="lightbox-img" alt=""></div>

<!-- NEW VIDEO MODAL -->
<div class="video-modal" id="videoModal" aria-hidden="true">
  <button class="close-video" id="closeVideo">CLOSE</button>
  <video id="modalVideo" controls playsinline></video>
</div>

<button class="music-btn" id="musicBtn" aria-pressed="false" title="Play / Pause music">üéµ</button>
<audio id="bgMusic" src="song3.mp3"></audio>

<footer>
  ¬© 2025 | Designed by <span>Ahmad Nadzrin Nadzriman</span> üï∏
  <div id="liveTime"></div>
</footer>

<script>
  /* ------------------ ORIGINAL LIGHTBOX (IMAGES) ------------------ */
  const allImages = document.querySelectorAll('.slide img, .timeline-item img, .block-item img, .filter-grid img, .polaroid img');
  const lightbox = document.getElementById('lightbox');
  const lightboxImg = document.getElementById('lightbox-img');
  allImages.forEach(img => img.addEventListener('click', (e)=>{
    lightbox.style.display='flex';
    lightbox.setAttribute('aria-hidden','false');
    lightboxImg.src = img.src;
    lightboxImg.alt = img.alt || '';
  }));
  lightbox.addEventListener('click', ()=> {
    lightbox.style.display='none';
    lightbox.setAttribute('aria-hidden','true');
  });

  /* ------------------ EMOJI BACKGROUND ------------------ */
  const canvas = document.getElementById('emojiCanvas');
  const ctx = canvas.getContext('2d');
  let width = canvas.width = window.innerWidth;
  let height = canvas.height = window.innerHeight;

  class Emoji {
    constructor(){
      this.x = Math.random() * width;
      this.y = Math.random() * height;
      this.size = Math.random() * 15 + 8;
      this.emoji = 'üï∏Ô∏è';
      this.color = 'white';
      const angle = Math.random() * 2 * Math.PI;
      this.dx = Math.cos(angle) * (Math.random()*0.2 + 0.05);
      this.dy = Math.sin(angle) * (Math.random()*0.2 + 0.05);
    }
    draw(){
      ctx.font = `${this.size}px serif`;
      ctx.fillStyle = this.color;
      ctx.fillText(this.emoji, this.x, this.y);
    }
    update(){
      this.x += this.dx;
      this.y += this.dy;

      if(this.x > width) this.x = 0;
      if(this.x < 0) this.x = width;
      if(this.y > height) this.y = 0;
      if(this.y < 0) this.y = height;

      this.draw();
    }
  }

  const emojis = [];
  for(let i = 0; i < 80; i++){
    emojis.push(new Emoji());
  }

  function animate(){
    ctx.clearRect(0,0,width,height);
    emojis.forEach(e => e.update());
    requestAnimationFrame(animate);
  }
  animate();

  window.addEventListener('resize', ()=>{
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
  });

  /* ------------------ MUSIC BUTTON ------------------ */
  const musicBtn = document.getElementById('musicBtn');
  const bgMusic = document.getElementById('bgMusic');
  let playing = false;

  musicBtn.addEventListener('click', async ()=>{
    try {
      if(!playing){
        await bgMusic.play();
        playing = true;
        musicBtn.textContent = '‚è∏Ô∏è';
        musicBtn.setAttribute('aria-pressed','true');
      } else {
        bgMusic.pause();
        playing = false;
        musicBtn.textContent = 'üéµ';
        musicBtn.setAttribute('aria-pressed','false');
      }
    } catch (err) {
      console.warn('Music play blocked', err);
    }
  });

  /* ------------------ LIVE DATE & TIME ------------------ */
  function updateDateTime() {
    const now = new Date();
    const formatted = now.toLocaleString("en-US", {
      dateStyle: "full",
      timeStyle: "medium",
    });
    document.getElementById("liveTime").innerText = formatted;
  }
  setInterval(updateDateTime, 1000);
  updateDateTime();

  /* ------------------ FILTER GALLERY JS ------------------ */
  (function setupFilterGallery(){
    const filterBtns = document.querySelectorAll(".filter-buttons button");
    const filterImages = document.querySelectorAll(".filter-grid .item");

    filterBtns.forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelector(".filter-buttons .active").classList.remove("active");
        btn.classList.add("active");

        let filter = btn.getAttribute("data-filter");

        filterImages.forEach(img => {
          if (filter === "all" || img.classList.contains(filter)) {
            img.style.display = "block";
          } else {
            img.style.display = "none";
          }
        });
      });
    });
  })();

  /* ------------------ VIDEO GRID (lazy load & open in modal) ------------------ */
  (function setupVideoGrid(){
    const videoBoxes = document.querySelectorAll('.video-box');
    const videoModal = document.getElementById('videoModal');
    const modalVideo = document.getElementById('modalVideo');
    const closeVideo = document.getElementById('closeVideo');

    videoBoxes.forEach(box => {
      const vid = box.querySelector('video');
      const src = vid.getAttribute('data-src');
      if (box.dataset.title) {
        box.setAttribute('title', box.dataset.title);
      }

      box.addEventListener('click', ()=>{
        modalVideo.pause();
        modalVideo.src = src;
        modalVideo.currentTime = 0;
        videoModal.style.display = 'flex';
        videoModal.setAttribute('aria-hidden','false');
        setTimeout(()=> modalVideo.play().catch(()=>{}), 80);
      });

      box.addEventListener('mouseenter', ()=>{
        if (!vid.src) vid.src = src;
        vid.muted = true;
        vid.play().catch(()=>{});
      });
      box.addEventListener('mouseleave', ()=>{
        vid.pause();
      });
    });

    closeVideo.addEventListener('click', ()=> {
      modalVideo.pause();
      modalVideo.src = '';
      videoModal.style.display = 'none';
      videoModal.setAttribute('aria-hidden','true');
    });

    videoModal.addEventListener('click', (e)=>{
      if (e.target === videoModal) {
        closeVideo.click();
      }
    });
  })();

  /* ------------------ POLAROID RANDOM ROTATION ------------------ */
  (function polaroidRotate(){
    const polaroids = document.querySelectorAll('.polaroid');
    polaroids.forEach(p => {
      const angle = (Math.random() * 8) - 4;
      p.style.transform = `rotate(${angle}deg)`;
    });

    polaroids.forEach(p => {
      p.addEventListener('mouseenter', ()=> p.style.transform = 'rotate(0deg) scale(1.03)');
      p.addEventListener('mouseleave', ()=>{
        const angle = (Math.random() * 8) - 4;
        p.style.transform = `rotate(${angle}deg)`;
      });
    });
  })();

  document.addEventListener('keydown', (e)=>{
    if (e.key === 'Escape') {
      if (lightbox.style.display === 'flex') {
        lightbox.style.display = 'none';
        lightbox.setAttribute('aria-hidden','true');
      }
      const videoModal = document.getElementById('videoModal');
      if (videoModal.style.display === 'flex') {
        document.getElementById('closeVideo').click();
      }
    }
  });

</script>

</body>
</html>


